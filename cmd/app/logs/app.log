{"time":"2025-05-06T22:54:42.359925804+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":39},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-06T22:54:42.365100328+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":55},"msg":"Database is connected"}
{"time":"2025-05-06T22:54:42.365325332+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-06T22:54:46.840447872+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"d4b54b04-01ef-4c06-b076-f25ec6876f65","error":"key is of invalid type"}
{"time":"2025-05-06T22:54:58.313201854+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"faa6028f-30de-4524-a81b-92211aea66b6","error":"key is of invalid type"}
{"time":"2025-05-06T22:54:59.665424375+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"4a0ea8a7-8046-43d9-bedf-e355ab18999e","error":"key is of invalid type"}
{"time":"2025-05-06T22:55:00.877146954+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"12620ace-007e-4c80-889d-3e083787945a","error":"key is of invalid type"}
{"time":"2025-05-06T22:55:01.689759814+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"c884265c-a3f8-4543-a72a-429281bbb1f4","error":"key is of invalid type"}
{"time":"2025-05-06T22:55:02.458261949+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"ec3efd23-aaf7-42dc-a9a7-63b897472a93","error":"key is of invalid type"}
{"time":"2025-05-06T22:55:23.441847196+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"9d224947-12a7-4f59-b7ae-c344aceea34f","error":"key is of invalid type"}
{"time":"2025-05-06T22:55:54.519462123+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":39},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-06T22:55:54.524597526+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":55},"msg":"Database is connected"}
{"time":"2025-05-06T22:55:54.524888233+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-06T22:57:12.675779998+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":39},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-06T22:57:12.681864938+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":55},"msg":"Database is connected"}
{"time":"2025-05-06T22:57:12.682128029+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-06T22:57:21.44835721+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"a9dd93ee-3d40-42e7-b8dc-28835f7c77c8","error":"signature is invalid"}
{"time":"2025-05-06T22:57:51.922674874+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":39},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-06T22:57:51.927804117+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":55},"msg":"Database is connected"}
{"time":"2025-05-06T22:57:51.928095507+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-06T22:58:16.28701719+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"3f32052f-311f-41fc-bd4b-f3f529856284","error":"signature is invalid"}
{"time":"2025-05-06T22:58:36.775588203+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":39},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-06T22:58:36.7804743+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":55},"msg":"Database is connected"}
{"time":"2025-05-06T22:58:36.780724464+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-06T23:02:24.428071053+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"2b04ae47-1a77-4162-a6aa-0152be7a9fd3","error":"unexpected EOF"}
{"time":"2025-05-07T11:11:46.668148125+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":39},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T11:11:46.673449641+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":55},"msg":"Database is connected"}
{"time":"2025-05-07T11:11:46.673720524+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T11:26:42.671097057+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":39},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T11:26:42.678201184+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":55},"msg":"Database is connected"}
{"time":"2025-05-07T11:26:42.678410636+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T11:53:30.150434017+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":41},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T11:53:30.155527466+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":57},"msg":"Database is connected"}
{"time":"2025-05-07T11:53:30.15579661+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T11:53:51.556798834+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":41},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T11:53:51.561778759+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":57},"msg":"Database is connected"}
{"time":"2025-05-07T11:53:51.562012436+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T11:54:33.363710831+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":41},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T11:54:33.368916012+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":57},"msg":"Database is connected"}
{"time":"2025-05-07T11:54:33.369158939+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T11:54:56.096415315+03:00","level":"ERROR","source":{"function":"medods-test/internal/storage/postgres.(*PostgreStorage).SaveUserInfo","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":107},"msg":"GUID is already exists","err":"ERROR: duplicate key value violates unique constraint \"ref_tokens_guid_key\" (SQLSTATE 23505)"}
{"time":"2025-05-07T11:54:56.096453784+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.(*PostgreStorage).SaveUserInfo","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":108},"msg":"GUID is already exists","err":"ERROR: duplicate key value violates unique constraint \"ref_tokens_guid_key\" (SQLSTATE 23505)","query":"\n\tINSERT INTO ref_tokens\n\t(guid, token_hash, user_agent_hash, ip_hash) VALUES ($1, $2, $3, $4) \n\t"}
{"time":"2025-05-07T11:54:56.09658883+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/tokens.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/tokens/token.go","line":133},"msg":"GUID is already exists","requestID":"3a34208a-9004-439b-a179-a9b63fa58965"}
{"time":"2025-05-07T11:54:56.09662377+03:00","level":"DEBUG","source":{"function":"medods-test/internal/api/handlers/auth/token/tokens.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/tokens/token.go","line":135},"msg":"debug","requestID":"3a34208a-9004-439b-a179-a9b63fa58965","guid":"421af6e3-c994-4aeb-99ae-6d750639e5bd"}
{"time":"2025-05-07T11:55:03.023535253+03:00","level":"ERROR","source":{"function":"medods-test/internal/storage/postgres.(*PostgreStorage).SaveUserInfo","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":107},"msg":"GUID is already exists","err":"ERROR: duplicate key value violates unique constraint \"ref_tokens_guid_key\" (SQLSTATE 23505)"}
{"time":"2025-05-07T11:55:03.023580754+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.(*PostgreStorage).SaveUserInfo","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":108},"msg":"GUID is already exists","err":"ERROR: duplicate key value violates unique constraint \"ref_tokens_guid_key\" (SQLSTATE 23505)","query":"\n\tINSERT INTO ref_tokens\n\t(guid, token_hash, user_agent_hash, ip_hash) VALUES ($1, $2, $3, $4) \n\t"}
{"time":"2025-05-07T11:55:03.023716657+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/tokens.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/tokens/token.go","line":133},"msg":"GUID is already exists","requestID":"3c4e6c29-7d9a-4862-a4b0-2795874d0cde"}
{"time":"2025-05-07T11:55:03.023736371+03:00","level":"DEBUG","source":{"function":"medods-test/internal/api/handlers/auth/token/tokens.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/tokens/token.go","line":135},"msg":"debug","requestID":"3c4e6c29-7d9a-4862-a4b0-2795874d0cde","guid":"421af6e3-c994-4aeb-99ae-6d750639e5bd"}
{"time":"2025-05-07T11:55:25.640492421+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":38},"msg":"token verification failed","requestID":"3ed29b0f-a230-454f-83a2-08e9e3ff0430","error":"tokenstring should not contain 'bearer '"}
{"time":"2025-05-07T12:03:38.239981591+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":41},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T12:03:38.246373111+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":57},"msg":"Database is connected"}
{"time":"2025-05-07T12:03:38.246600579+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T12:05:47.720717867+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":41},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T12:05:47.725290387+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":57},"msg":"Database is connected"}
{"time":"2025-05-07T12:05:47.725569881+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T12:05:57.847073724+03:00","level":"INFO","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":73},"msg":"Unauthorized","requestID":"32be8362-b3c2-49fe-a185-c44db5a249ca"}
{"time":"2025-05-07T12:12:47.202904921+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":42},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T12:12:47.208153468+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":58},"msg":"Database is connected"}
{"time":"2025-05-07T12:12:47.20840369+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T12:13:42.630245634+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":42},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T12:13:42.635291407+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":58},"msg":"Database is connected"}
{"time":"2025-05-07T12:13:42.63559028+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T12:13:48.180060731+03:00","level":"INFO","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":73},"msg":"Unauthorized","requestID":"fcdf5b12-9445-4c75-9bc0-3b1f53a09537"}
