{"time":"2025-05-06T22:54:42.359925804+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":39},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-06T22:54:42.365100328+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":55},"msg":"Database is connected"}
{"time":"2025-05-06T22:54:42.365325332+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-06T22:54:46.840447872+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"d4b54b04-01ef-4c06-b076-f25ec6876f65","error":"key is of invalid type"}
{"time":"2025-05-06T22:54:58.313201854+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"faa6028f-30de-4524-a81b-92211aea66b6","error":"key is of invalid type"}
{"time":"2025-05-06T22:54:59.665424375+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"4a0ea8a7-8046-43d9-bedf-e355ab18999e","error":"key is of invalid type"}
{"time":"2025-05-06T22:55:00.877146954+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"12620ace-007e-4c80-889d-3e083787945a","error":"key is of invalid type"}
{"time":"2025-05-06T22:55:01.689759814+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"c884265c-a3f8-4543-a72a-429281bbb1f4","error":"key is of invalid type"}
{"time":"2025-05-06T22:55:02.458261949+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"ec3efd23-aaf7-42dc-a9a7-63b897472a93","error":"key is of invalid type"}
{"time":"2025-05-06T22:55:23.441847196+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"9d224947-12a7-4f59-b7ae-c344aceea34f","error":"key is of invalid type"}
{"time":"2025-05-06T22:55:54.519462123+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":39},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-06T22:55:54.524597526+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":55},"msg":"Database is connected"}
{"time":"2025-05-06T22:55:54.524888233+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-06T22:57:12.675779998+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":39},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-06T22:57:12.681864938+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":55},"msg":"Database is connected"}
{"time":"2025-05-06T22:57:12.682128029+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-06T22:57:21.44835721+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"a9dd93ee-3d40-42e7-b8dc-28835f7c77c8","error":"signature is invalid"}
{"time":"2025-05-06T22:57:51.922674874+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":39},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-06T22:57:51.927804117+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":55},"msg":"Database is connected"}
{"time":"2025-05-06T22:57:51.928095507+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-06T22:58:16.28701719+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"3f32052f-311f-41fc-bd4b-f3f529856284","error":"signature is invalid"}
{"time":"2025-05-06T22:58:36.775588203+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":39},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-06T22:58:36.7804743+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":55},"msg":"Database is connected"}
{"time":"2025-05-06T22:58:36.780724464+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-06T23:02:24.428071053+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":31},"msg":"token verification failed","requestID":"2b04ae47-1a77-4162-a6aa-0152be7a9fd3","error":"unexpected EOF"}
{"time":"2025-05-07T11:11:46.668148125+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":39},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T11:11:46.673449641+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":55},"msg":"Database is connected"}
{"time":"2025-05-07T11:11:46.673720524+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T11:26:42.671097057+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":39},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T11:26:42.678201184+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":55},"msg":"Database is connected"}
{"time":"2025-05-07T11:26:42.678410636+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T11:53:30.150434017+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":41},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T11:53:30.155527466+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":57},"msg":"Database is connected"}
{"time":"2025-05-07T11:53:30.15579661+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T11:53:51.556798834+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":41},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T11:53:51.561778759+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":57},"msg":"Database is connected"}
{"time":"2025-05-07T11:53:51.562012436+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T11:54:33.363710831+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":41},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T11:54:33.368916012+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":57},"msg":"Database is connected"}
{"time":"2025-05-07T11:54:33.369158939+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T11:54:56.096415315+03:00","level":"ERROR","source":{"function":"medods-test/internal/storage/postgres.(*PostgreStorage).SaveUserInfo","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":107},"msg":"GUID is already exists","err":"ERROR: duplicate key value violates unique constraint \"ref_tokens_guid_key\" (SQLSTATE 23505)"}
{"time":"2025-05-07T11:54:56.096453784+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.(*PostgreStorage).SaveUserInfo","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":108},"msg":"GUID is already exists","err":"ERROR: duplicate key value violates unique constraint \"ref_tokens_guid_key\" (SQLSTATE 23505)","query":"\n\tINSERT INTO ref_tokens\n\t(guid, token_hash, user_agent_hash, ip_hash) VALUES ($1, $2, $3, $4) \n\t"}
{"time":"2025-05-07T11:54:56.09658883+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/tokens.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/tokens/token.go","line":133},"msg":"GUID is already exists","requestID":"3a34208a-9004-439b-a179-a9b63fa58965"}
{"time":"2025-05-07T11:54:56.09662377+03:00","level":"DEBUG","source":{"function":"medods-test/internal/api/handlers/auth/token/tokens.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/tokens/token.go","line":135},"msg":"debug","requestID":"3a34208a-9004-439b-a179-a9b63fa58965","guid":"421af6e3-c994-4aeb-99ae-6d750639e5bd"}
{"time":"2025-05-07T11:55:03.023535253+03:00","level":"ERROR","source":{"function":"medods-test/internal/storage/postgres.(*PostgreStorage).SaveUserInfo","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":107},"msg":"GUID is already exists","err":"ERROR: duplicate key value violates unique constraint \"ref_tokens_guid_key\" (SQLSTATE 23505)"}
{"time":"2025-05-07T11:55:03.023580754+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.(*PostgreStorage).SaveUserInfo","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":108},"msg":"GUID is already exists","err":"ERROR: duplicate key value violates unique constraint \"ref_tokens_guid_key\" (SQLSTATE 23505)","query":"\n\tINSERT INTO ref_tokens\n\t(guid, token_hash, user_agent_hash, ip_hash) VALUES ($1, $2, $3, $4) \n\t"}
{"time":"2025-05-07T11:55:03.023716657+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/tokens.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/tokens/token.go","line":133},"msg":"GUID is already exists","requestID":"3c4e6c29-7d9a-4862-a4b0-2795874d0cde"}
{"time":"2025-05-07T11:55:03.023736371+03:00","level":"DEBUG","source":{"function":"medods-test/internal/api/handlers/auth/token/tokens.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/tokens/token.go","line":135},"msg":"debug","requestID":"3c4e6c29-7d9a-4862-a4b0-2795874d0cde","guid":"421af6e3-c994-4aeb-99ae-6d750639e5bd"}
{"time":"2025-05-07T11:55:25.640492421+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":38},"msg":"token verification failed","requestID":"3ed29b0f-a230-454f-83a2-08e9e3ff0430","error":"tokenstring should not contain 'bearer '"}
{"time":"2025-05-07T12:03:38.239981591+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":41},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T12:03:38.246373111+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":57},"msg":"Database is connected"}
{"time":"2025-05-07T12:03:38.246600579+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T12:05:47.720717867+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":41},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T12:05:47.725290387+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":57},"msg":"Database is connected"}
{"time":"2025-05-07T12:05:47.725569881+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T12:05:57.847073724+03:00","level":"INFO","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":73},"msg":"Unauthorized","requestID":"32be8362-b3c2-49fe-a185-c44db5a249ca"}
{"time":"2025-05-07T12:12:47.202904921+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":42},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T12:12:47.208153468+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":58},"msg":"Database is connected"}
{"time":"2025-05-07T12:12:47.20840369+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T12:13:42.630245634+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":42},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T12:13:42.635291407+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":58},"msg":"Database is connected"}
{"time":"2025-05-07T12:13:42.63559028+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T12:13:48.180060731+03:00","level":"INFO","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":73},"msg":"Unauthorized","requestID":"fcdf5b12-9445-4c75-9bc0-3b1f53a09537"}
{"time":"2025-05-07T14:59:53.703679457+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T14:59:53.708761851+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T14:59:53.709045859+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T15:03:26.362727555+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T15:03:26.369262674+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T15:03:26.369477395+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T15:03:40.245174995+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":60},"msg":"failed to check block token","requestID":"5a00a7bc-cded-4019-8565-a4534c7bed4d"}
{"time":"2025-05-07T15:04:15.312498266+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T15:04:15.319506541+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T15:04:15.319955185+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T15:06:20.133681471+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T15:06:20.138835736+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T15:06:20.139146968+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T15:07:30.297385185+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T15:07:30.302068808+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T15:07:30.302400946+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T15:08:31.424011055+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T15:08:31.428613586+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T15:08:31.428841033+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T15:09:58.0601282+03:00","level":"ERROR","source":{"function":"medods-test/internal/storage/postgres.(*PostgreStorage).Logout","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":336},"msg":"can't do query","error":"ERROR: syntax error at or near \"(\" (SQLSTATE 42601)"}
{"time":"2025-05-07T15:09:58.060182816+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/logout.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/logout/logout.go","line":104},"msg":"failed to logout","requestID":"3703c463-b876-4eb5-94e9-449331597178","error":"can't do query:ERROR: syntax error at or near \"(\" (SQLSTATE 42601)"}
{"time":"2025-05-07T15:10:50.123791553+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T15:10:50.128634485+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T15:10:50.128887659+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T15:11:01.731017439+03:00","level":"INFO","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":93},"msg":"Unauthorized","requestID":"de44c7b1-a81a-4a92-b562-7312eac3f513"}
{"time":"2025-05-07T16:01:24.956043718+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T16:01:24.96085995+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T16:01:24.961116514+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T16:02:38.458933748+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T16:02:38.463574713+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T16:02:38.463839006+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T16:04:24.127480054+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":102},"msg":"failed to verify refresh token","requestID":"dc7fa00c-73d7-4d0b-94ab-5c248593b502","error":"signature is invalid"}
{"time":"2025-05-07T16:06:08.000884058+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T16:06:08.005616577+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T16:06:08.005878935+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T16:06:15.349100354+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":102},"msg":"failed to verify refresh token","requestID":"a6f7b9cb-96c7-4c66-850f-12638d67b9ea","error":"signature is invalid"}
{"time":"2025-05-07T16:08:20.989999965+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T16:08:20.99499443+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T16:08:20.995256873+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T16:08:29.809664605+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":102},"msg":"failed to verify refresh token","requestID":"bd0a38d1-8e28-42aa-9131-3dad0ff9cb5a","error":"token parsing failed: signature is invalid"}
{"time":"2025-05-07T16:10:28.766000726+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T16:10:28.771256501+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T16:10:28.771565838+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T16:14:03.341684405+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":94},"msg":"failed to get decode refresh token","requestID":"2b6e91b9-e2b7-4052-a727-d6e9437f469e","error":"illegal base64 data at input byte 336"}
{"time":"2025-05-07T16:14:47.955785756+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":102},"msg":"failed to verify refresh token","requestID":"cb77cdc5-e616-4471-bee5-9a4e35f31cdb","error":"token parsing failed: signature is invalid"}
{"time":"2025-05-07T16:16:08.061634294+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T16:16:08.072383297+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T16:16:08.072725762+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T16:16:14.100526489+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":102},"msg":"failed to verify refresh token","requestID":"3f44d7d7-9ce6-4cf1-961d-93bc0f63dfdb","error":"token parsing failed: signature is invalid"}
{"time":"2025-05-07T16:18:24.844902839+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T16:18:24.849632215+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T16:18:24.849883179+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T16:19:00.517133067+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":102},"msg":"failed to verify refresh token","requestID":"257ca28e-ee7b-426d-a6ee-8fbf72c87b84","error":"token parsing failed: signature is invalid"}
{"time":"2025-05-07T16:25:15.925744874+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T16:25:15.930390078+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T16:25:15.930654339+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T16:27:48.601687589+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":102},"msg":"failed to verify refresh token","requestID":"5f8deddc-4376-43ec-a48f-12032312766f","error":"token parsing failed: signature is invalid"}
{"time":"2025-05-07T16:29:24.333230616+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T16:29:24.338051364+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T16:29:24.338322718+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T16:29:26.852778652+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":66},"msg":"failed to verify access token","requestID":"072c71d5-3cb6-4fc1-9b01-a65f69b523f1"}
{"time":"2025-05-07T16:30:16.007850844+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T16:30:16.013069724+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T16:30:16.01331934+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T16:32:28.156884194+03:00","level":"ERROR","source":{"function":"medods-test/internal/storage/postgres.(*PostgreStorage).SaveUserInfo","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":117},"msg":"GUID is already exists","err":"ERROR: duplicate key value violates unique constraint \"ref_tokens_guid_key\" (SQLSTATE 23505)"}
{"time":"2025-05-07T16:32:28.156933531+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.(*PostgreStorage).SaveUserInfo","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":118},"msg":"GUID is already exists","err":"ERROR: duplicate key value violates unique constraint \"ref_tokens_guid_key\" (SQLSTATE 23505)","query":"\n\tINSERT INTO ref_tokens\n\t(guid, token_hash, user_agent_hash, ip_hash) VALUES ($1, $2, $3, $4) \n\tRETURNING id\n\t"}
{"time":"2025-05-07T16:32:28.157075548+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":220},"msg":"GUID is already exists","requestID":"07312d95-d69a-4974-a0af-e87e0016dd76"}
{"time":"2025-05-07T16:32:28.157110716+03:00","level":"DEBUG","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":222},"msg":"debug","requestID":"07312d95-d69a-4974-a0af-e87e0016dd76","guid":"8366b3e3-9934-41e7-b176-0cd21d1eb899"}
{"time":"2025-05-07T16:43:54.352956331+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T16:43:54.357891056+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T16:43:54.358154174+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T16:44:29.646078642+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T16:44:29.650748763+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T16:44:29.651034633+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T16:56:44.703120283+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T16:56:44.708139391+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T16:56:44.708370475+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T17:09:59.935404785+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T17:09:59.940415996+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T17:09:59.940662256+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T17:10:06.548669942+03:00","level":"ERROR","source":{"function":"medods-test/internal/storage/postgres.(*PostgreStorage).SaveUserInfo","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":117},"msg":"GUID is already exists","err":"ERROR: duplicate key value violates unique constraint \"ref_tokens_guid_key\" (SQLSTATE 23505)"}
{"time":"2025-05-07T17:10:06.548702748+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.(*PostgreStorage).SaveUserInfo","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":118},"msg":"GUID is already exists","err":"ERROR: duplicate key value violates unique constraint \"ref_tokens_guid_key\" (SQLSTATE 23505)","query":"\n\tINSERT INTO ref_tokens\n\t(guid, token_hash, user_agent_hash, ip_hash) VALUES ($1, $2, $3, $4) \n\tRETURNING id\n\t"}
{"time":"2025-05-07T17:10:06.548821701+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/tokens.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/tokens/token.go","line":132},"msg":"GUID is already exists","requestID":"d6f58038-bb2d-41bb-aab6-789986c0ff03"}
{"time":"2025-05-07T17:10:06.548849396+03:00","level":"DEBUG","source":{"function":"medods-test/internal/api/handlers/auth/token/tokens.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/tokens/token.go","line":134},"msg":"debug","requestID":"d6f58038-bb2d-41bb-aab6-789986c0ff03","guid":"8366b3e3-9934-41e7-b176-0cd21d1eb899"}
{"time":"2025-05-07T17:15:03.024878224+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T17:15:03.029489795+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T17:15:03.029721818+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T17:24:47.617581574+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T17:24:47.623207246+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T17:24:47.62358561+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T17:24:54.52402474+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":69},"msg":"failed to check blocked token","requestID":"c61ddf3e-4659-45d7-9ed1-2dd04bf8dc30","error":"can't do query:number of field descriptions must equal number of destinations, got 0 and 1"}
{"time":"2025-05-07T17:24:55.603237481+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":69},"msg":"failed to check blocked token","requestID":"434f59f7-1a92-4bb4-a567-a218c9db1c1d","error":"can't do query:number of field descriptions must equal number of destinations, got 0 and 1"}
{"time":"2025-05-07T17:24:56.240651538+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":69},"msg":"failed to check blocked token","requestID":"ede751ed-33fb-4466-977e-68b193c8988e","error":"can't do query:number of field descriptions must equal number of destinations, got 0 and 1"}
{"time":"2025-05-07T17:24:56.701279057+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":69},"msg":"failed to check blocked token","requestID":"661f6d95-3a1d-48dd-8d9d-7f26ce1cadd5","error":"can't do query:number of field descriptions must equal number of destinations, got 0 and 1"}
{"time":"2025-05-07T17:24:57.1216726+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":69},"msg":"failed to check blocked token","requestID":"9e9f3db9-8728-4322-8c88-e7d38ecf80b0","error":"can't do query:number of field descriptions must equal number of destinations, got 0 and 1"}
{"time":"2025-05-07T17:24:57.561192101+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":69},"msg":"failed to check blocked token","requestID":"41cf4602-8c59-4e24-b8db-c015dcfc04c6","error":"can't do query:number of field descriptions must equal number of destinations, got 0 and 1"}
{"time":"2025-05-07T17:24:57.972914637+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":69},"msg":"failed to check blocked token","requestID":"3930715f-df73-4991-92ae-e94b98889468","error":"can't do query:number of field descriptions must equal number of destinations, got 0 and 1"}
{"time":"2025-05-07T17:24:58.304452052+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":69},"msg":"failed to check blocked token","requestID":"e97fc647-59a6-4fb4-b0e4-1dccad5f950b","error":"can't do query:number of field descriptions must equal number of destinations, got 0 and 1"}
{"time":"2025-05-07T17:24:58.648275323+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":69},"msg":"failed to check blocked token","requestID":"9b568884-081a-43d1-b6d6-14f01d3e8f3a","error":"can't do query:number of field descriptions must equal number of destinations, got 0 and 1"}
{"time":"2025-05-07T17:25:01.126831213+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":84},"msg":"failed to verify access token","requestID":"94c0a46a-3fdd-4f3d-be1f-7d5d830ac04f"}
{"time":"2025-05-07T17:25:04.461505866+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":69},"msg":"failed to check blocked token","requestID":"9fe85c83-2474-4658-8c1a-8186ee9307e7","error":"can't do query:number of field descriptions must equal number of destinations, got 0 and 1"}
{"time":"2025-05-07T17:25:10.516628614+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":69},"msg":"failed to check blocked token","requestID":"bb1ace2d-ac34-413e-8850-9781ba875966","error":"can't do query:number of field descriptions must equal number of destinations, got 0 and 1"}
{"time":"2025-05-07T17:26:54.146480333+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T17:26:54.151155405+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T17:26:54.151450802+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T17:26:54.151736113+03:00","level":"ERROR","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":56},"msg":"Shutting down. Critical error:","err":"listen tcp 127.0.0.1:8080: bind: address already in use"}
{"time":"2025-05-07T17:27:13.809730548+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T17:27:13.814682603+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T17:27:13.814923581+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T17:27:30.603430638+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":69},"msg":"failed to check blocked token","requestID":"00d3b5fe-5b79-4340-97a1-1c5db76bc276","error":"can't do query:number of field descriptions must equal number of destinations, got 0 and 1"}
{"time":"2025-05-07T17:28:20.231093402+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T17:28:20.236224105+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T17:28:20.236538719+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T17:29:15.892435787+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T17:29:15.897537362+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T17:29:15.89784476+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T17:31:33.436030442+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":69},"msg":"failed to check blocked token","requestID":"97c5e67d-c556-4758-b574-8d1777e66664","error":"can't do query:number of field descriptions must equal number of destinations, got 0 and 1"}
{"time":"2025-05-07T17:35:37.304107746+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":48},"msg":"Connecting to database","Connect String":"postgresql://postgres:qwerty@localhost:5432/test-task-db?sslmode=disable"}
{"time":"2025-05-07T17:35:37.309064385+03:00","level":"DEBUG","source":{"function":"medods-test/internal/storage/postgres.New","file":"/home/fzrdub/go/medods-test-task/internal/storage/postgres/postgres.go","line":64},"msg":"Database is connected"}
{"time":"2025-05-07T17:35:37.309406757+03:00","level":"INFO","source":{"function":"main.main","file":"/home/fzrdub/go/medods-test-task/cmd/app/main.go","line":52},"msg":"Server is started","addres":"localhost:8080"}
{"time":"2025-05-07T17:35:45.504886355+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":76},"msg":"token in blacklist","requestID":"8d111b3b-74af-47d2-9b3f-75f22284b400","error":null}
{"time":"2025-05-07T17:35:52.297602829+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":76},"msg":"token in blacklist","requestID":"3364e7f2-f13e-4cec-9e87-28201e94af4a","error":null}
{"time":"2025-05-07T17:35:54.045263996+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/token/refresh.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/token/refresh/refresh.go","line":76},"msg":"token in blacklist","requestID":"6b952d0c-7539-4a86-9cde-b183576b02c5","error":null}
{"time":"2025-05-07T17:36:04.780545206+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/handlers/auth/logout.New.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/handlers/auth/logout/logout.go","line":52},"msg":"failed to verify token","requestID":"8dba0b28-6ba5-4446-bddb-4630dd7028eb"}
{"time":"2025-05-07T17:36:08.304874585+03:00","level":"ERROR","source":{"function":"medods-test/internal/api/middlewares/auth.AuthMiddleware.func1","file":"/home/fzrdub/go/medods-test-task/internal/api/middlewares/auth/auth.go","line":47},"msg":"failed to verify token","requestID":"1100e63b-48dc-4e85-811c-4be7680f253e"}
